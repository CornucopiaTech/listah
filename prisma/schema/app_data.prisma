generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["prismaSchemaFolder", "multiSchema"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_CONNECTION_URL")
  schemas  = ["app_logs", "api_logs", "app"]
}

model Category {
  id               String        @id @db.Uuid
  name             String
  description      String        @db.Text
  note             String        @db.Text
  audit            Json          @db.Json
  items            Item[]
  sub_category_ids SubCategory[]

  @@map("categories")
  @@schema("app")
}

model SubCategory {
  id           String     @id @db.Uuid
  name         String
  description  String     @db.Text
  note         String     @db.Text
  audit        Json       @db.Json
  category_ids Category[]

  @@map("sub_categories")
  @@schema("app")
}

model Item {
  id            String     @id @db.Uuid
  name          String
  description   String
  quantity      String
  location      String
  note          String
  categories    Category[]
  active        Boolean
  reactivate_at DateTime
  audit         Json       @db.Json

  @@map("items")
  @@schema("app")
}

model User {
  id           String @id @db.Uuid
  first_name   String
  middle_names String
  last_name    String
  username     String
  email        String
  role         String
  audit        Json   @db.Json

  @@map("users")
  @@schema("app")
}
